(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const r={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.Android()||r.BlackBerry()||r.iOS()||r.Opera()||r.Windows()}};function O(){document.documentElement.hasAttribute("data-fls-preloader-loading")||window.addEventListener("load",function(){setTimeout(function(){document.documentElement.setAttribute("data-fls-loaded","")},0)})}let a=!0,v=(n=500)=>{if(a){const t=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{t.forEach(e=>{e.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},n),a=!1,setTimeout(function(){a=!0},n)}},y=(n=500)=>{if(a){const t=document.querySelectorAll("[data-fls-lp]"),e=window.innerWidth-document.body.offsetWidth+"px";t.forEach(i=>{i.style.paddingRight=e}),document.body.style.paddingRight=e,document.documentElement.setAttribute("data-fls-scrolllock",""),a=!1,setTimeout(function(){a=!0},n)}};class _{constructor(t){let e={logging:!0,init:!0,attributeOpenButton:"data-fls-popup-link",attributeCloseButton:"data-fls-popup-close",fixElementSelector:"[data-fls-lp]",attributeMain:"data-fls-popup",classes:{popup:"popup",popupContent:"data-fls-popup-body",popupActive:"data-fls-popup-active",bodyActive:"data-fls-popup-open"},focusCatch:!1,closeEsc:!0,bodyLock:!0,hashSettings:{location:!1,goHash:!1},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...e,...t,classes:{...e.classes,...t?.classes},hashSettings:{...e.hashSettings,...t?.hashSettings},on:{...e.on,...t?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.buildPopup(),this.eventsPopup()}buildPopup(){}eventsPopup(){document.addEventListener("click",(function(t){const e=t.target.closest(`[${this.options.attributeOpenButton}]`);if(e){if(t.preventDefault(),this._dataValue=e.getAttribute(this.options.attributeOpenButton)?e.getAttribute(this.options.attributeOpenButton):"error",this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=e),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(t.target.closest(`[${this.options.attributeCloseButton}]`)||!t.target.closest(`[${this.options.classes.popupContent}]`)&&this.isOpen){t.preventDefault(),this.close();return}}).bind(this)),document.addEventListener("keydown",(function(t){if(this.options.closeEsc&&t.which==27&&t.code==="Escape"&&this.isOpen){t.preventDefault(),this.close();return}if(this.options.focusCatch&&t.which==9&&this.isOpen){this._focusCatch(t);return}}).bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",(function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}).bind(this)),window.location.hash&&this._openToHash())}open(t){a&&(this.bodyLock=!!(document.documentElement.hasAttribute("data-fls-scrolllock")&&!this.isOpen),t&&typeof t=="string"&&t.trim()!==""&&(this.targetOpen.selector=t,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(`[${this.options.attributeMain}=${this.targetOpen.selector}]`),this.targetOpen.element&&(this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.setAttribute(this.options.classes.popupActive,""),document.documentElement.setAttribute(this.options.classes.bodyActive,""),this._reopen?this._reopen=!1:this.bodyLock||y(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))))}close(t){t&&typeof t=="string"&&t.trim()!==""&&(this.previousOpen.selector=t),!(!this.isOpen||!a)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.previousOpen.element.removeAttribute(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.removeAttribute(this.options.classes.bodyActive),this.bodyLock||v(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=`#${this.targetOpen.selector}`)}_openToHash(){let t=window.location.hash.replace("#","");document.querySelector(`[${this.options.attributeOpenButton}="${t}"]`),t&&this.open(t)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(t){const e=this.targetOpen.element.querySelectorAll(this._focusEl),i=Array.prototype.slice.call(e),s=i.indexOf(document.activeElement);t.shiftKey&&s===0&&(i[i.length-1].focus(),t.preventDefault()),!t.shiftKey&&s===i.length-1&&(i[0].focus(),t.preventDefault())}_focusTrap(){const t=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():t[0].focus()}}document.querySelector("[data-fls-popup]")&&window.addEventListener("load",()=>window.flsPopup=new _({})),O(),document.addEventListener("click",function(n){const t=n.target.closest('[data-fls-popup-link="popup-tea"]');if(!t)return;const e=t.closest("[data-info]"),s=document.querySelector('[data-fls-popup="popup-tea"]')?.querySelector("[data-fls-popup-content]");if(!e||!s)return;const o=e.querySelector("[data-popup-info]");if(!o)return;const p=o.querySelector("[data-popup-title]")?.textContent||"",h=o.querySelector("[data-popup-subtitle]")?.textContent||"",f=o.querySelector("[data-popup-descr]")?.innerHTML||"",m=o.querySelectorAll("[data-popup-specs-item]"),l=e.querySelector(".item-slider__pack img");let c="";m.forEach(u=>{const d=u.querySelector("[data-popup-specs-title]")?.textContent||"",g=u.querySelector("[data-popup-specs-descr]")?.textContent||"",b=d.toLowerCase().includes("\u0441\u043A\u043B\u0430\u0434");c+=`
			<li class="specification__item">
				<span class="specification__title">${d}</span>
				<span class="${b?"specification__text":"specification__descr"}">${g}</span>
			</li>
		`}),s.innerHTML=`
		<div class="popup__picture">
			<img class="ibg-cn" src="${l?.src||""}" width="${l?.width||289}" height="${l?.height||493}" alt="${l?.alt||"Image"}">
		</div>
		<div class="popup__description">
			<div class="popup__head">
				<h3 class="popup__title">${p}</h3>
				<p class="popup__subtitle">${h}</p>
			</div>
			<div class="popup__about">
				${f}
			</div>
			<div class="popup__specification specification">
				<ul class="specification__list">
					${c}
				</ul>
			</div>
		</div>
	`});export{r as i};
